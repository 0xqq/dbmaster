{% extends "base.html" %}
{% block css %}
  <link rel="stylesheet" type="text/css" href="/static/about.css">
{% endblock %}
{% block content %}
<div class="container">
  <article class="markdown-body"><h2 id="_1"><a name="user-content-_1" href="#_1" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>介绍</h2>
<p>dbmaster是一个python编写的在线数据库查询客户端，可以有效隔离线上数据库环境，提供了一系列便于开发者使用的特性。操作体验尽量兼容navcat。</p>
<h2 id="_2"><a name="user-content-_2" href="#_2" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>特性</h2>
<ol>
<li>支持SQL语法高亮和自动提示</li>
<li>支持SQL格式化</li>
<li>支持执行选中的SQL片段</li>
<li>支持数据库SCHEMA显示和表结构信息（双击表名显示表结构信息）</li>
<li>支持快捷键执行,Cmd+R/Ctrl+R执行</li>
<li>支持查询执行记录</li>
<li>支持多个语句同时执行，显示多个result结果集</li>
</ol>
<h2 id="_3"><a name="user-content-_3" href="#_3" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>安装和启动</h2>
<pre><code>pip install virtualenv

# 激活虚拟环境
virtualenv venv
. venv/bin/activate

# 安装依赖
pip install -r requirments.txt

# 创建和初始化数据库
db.sql

# 配置数据库连接
config.cfg

# 启动服务器
gunicorn -w 4 -b 127.0.0.1:8880 wsgi:application

访问: http://localhost:8880/dbmaster/
</code></pre>

<h3 id="_4"><a name="user-content-_4" href="#_4" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>支持的快捷键</h3>
<p>注意光标在编辑器的时候才会触发。</p>
<ul>
<li>Ctrl+R / Cmd+R 执行sql</li>
<li>Ctrl+F / Cmd+F 格式化当前编辑器的sql</li>
</ul>
<h3 id="_5"><a name="user-content-_5" href="#_5" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>运行效果图</h3>
<p><img alt="" src="http://7xo9p3.com1.z0.glb.clouddn.com/markdown/1490931779997.png?imageMogr2/thumbnail/!100p/quality/100!" /></p>
<p><img alt="" src="http://7xo9p3.com1.z0.glb.clouddn.com/markdown/1490931809868.png?imageMogr2/thumbnail/!100p/quality/100!" /></p>
<p><img alt="" src="http://7xo9p3.com1.z0.glb.clouddn.com/markdown/1490922673923.png?imageMogr2/thumbnail/!100p/quality/100!" /></p>
<h3 id="_6"><a name="user-content-_6" href="#_6" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>相关辅助插件</h3>
<p>实现这个客户端用到了一些前后端的开源框架和组件，都是非常优秀的产品，特别感谢这些软件的开发者和维护者。</p>
<h4 id="bootstrap"><a name="user-content-bootstrap" href="#bootstrap" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Bootstrap</h4>
<p><a href="http://v3.bootcss.com/">http://v3.bootcss.com/</a></p>
<h4 id="sql"><a name="user-content-sql" href="#sql" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>SQL语法高亮和自动提示</h4>
<p><a href="http://codemirror.net/index.html">http://codemirror.net/index.html</a></p>
<h4 id="sql_1"><a name="user-content-sql_1" href="#sql_1" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>sql美化</h4>
<p><a href="http://sqlparse.readthedocs.io/en/latest/intro/#getting-started">http://sqlparse.readthedocs.io/en/latest/intro/#getting-started</a><br />
<pre><code>$ pip install sqlparse
$ python
&gt;&gt;&gt; import sqlparse
&gt;&gt;&gt; print(sqlparse.format('select * from foo', reindent=True))
select *
from foo
&gt;&gt;&gt; parsed = sqlparse.parse('select * from foo')[0]
&gt;&gt;&gt; parsed.tokens
[&lt;DML 'select' at 0x7f22c5e15368&gt;, &lt;Whitespace ' ' at 0x7f22c5e153b0&gt;, &lt;Wildcard '*' … ]
&gt;&gt;&gt;
</code></pre></p>
<h4 id="ztree"><a name="user-content-ztree" href="#ztree" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Ztree 渲染数据库和表列表</h4>
<p><a href="http://www.treejs.cn/v3/main.php#_zTreeInfo">http://www.treejs.cn/v3/main.php#_zTreeInfo</a></p>
<h2 id="todo"><a name="user-content-todo" href="#todo" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>TODO</h2>
<ul>
<li>保存当前查询sql为模板,配置图表渲染</li>
<li>线上数据库变更申请流程</li>
</ul>
<p>如果你有什么好的想法，欢迎告诉我（<a href="mailto:sdlgxxy@qq.com">sdlgxxy@qq.com</a>）</p></article>
</div>
{% endblock %}
{% block js %}
  <script type="application/javascript">
    $("#nav_about").addClass("active")

  </script>
{% endblock %}
